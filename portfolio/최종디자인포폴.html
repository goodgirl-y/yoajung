<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <title>Scroll Snap Example</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Italiana&display=swap" rel="stylesheet">
    <style>
     * {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
}
a{text-decoration: none;}
ul{list-style: none;}

html, body {
    height: 100%;
    overflow: hidden;
}

.container {
    height: 100vh;
    scroll-snap-type: y mandatory;
    overflow-y: scroll;
    scroll-behavior: smooth;
}

.page {
    height: 100vh;
    display: flex;
    justify-content: center;
    align-items: center;
    scroll-snap-align: start;
    padding: 20px;
    font-size: 2em;
    position: relative;
}

.first-page {
    background-color: #C44436;
    text-align: center;position: relative;
}
.first-page .top-text{position: absolute;top: 20px;font-size: 18px;color: ivory;font-family: "italiana", sans-serif;z-index: 10;display: flex;justify-content: space-between;}
.first-page .top-text.left {
            left: 0;
            padding-left: 40px;
            text-align: left;
        }

        .first-page .top-text.right {
            right: 0;
            padding-right: 40px;
            text-align: right;
        }
.backgroundbigs1, .backgroundbigs2{
    position: absolute;left: 0;top: 0;width: 100%;height: 100%;animation: rotate 10s linear infinite;align-items: center;z-index: 1;background-repeat: no-repeat;background-size: auto;background-position: center;}
.backgroundbigs1{
    background-image: url(../images/Vector\ 10.png);}

    @keyframes rotate  {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
    .backgroundbigs2{background-image: url(../images/Vector\ 11.png);animation: rotate 15s linear infinite;}


.first-page h1{
  font-family: "Italiana", sans-serif;
  font-weight: 500;
  font-style: normal;
  font-size: 200px;
color: ivory;
margin-bottom: 0;
z-index: 10;
position: absolute;
left: 50%;
transform: translateX(-50%); /* 수평 중앙 정렬 */
transition: transform 0.3s ease; /* 부드러운 애니메이션 추가 */
}
.first-page h1 span{display: block;}

.second-page{
    background-color:#C44436;
z-index: 1000;}
.second-page .inner_box{width: 100%;height: 500px;display: flex;
            justify-content: center;
            align-items: center;transform: translateY(-20px);}
.second-page .inner_box .profile{width: 400px;height: 220px;top: 0;}
.second-page .inner_box .profile img{width: 150px;height: 200px;border-radius: 80px 80px 0 0 ;float: left;}
.second-page .inner_box .profile ul{align-items: center;margin: 30px;}
.second-page .inner_box .profile ul li{font-size: 15px;color: #222;}

.second-page .twobox {
    width: 90%;
    height: 80%;
    background-color: ivory;
    border-radius: 30px;
    margin-top: 50px;
    justify-content: center;
    align-items: center;
    margin-bottom: 0;
    bottom: 0;
}
.third-page .thirdbox{}

.content-page {
    background-color: #e0e0e0;
}

    </style>
</head>
<body>
    <div class="container">
        <!-- 첫 번째 페이지 -->
        <section class="page first-page">
            <h1><span>borim</span>
                <span>portfolio</span>
            </h1>
            <div class="backgroundbigs1"></div>
            <div class="backgroundbigs2"></div>
            <div class="top-text left">2024</div>
            <div class="top-text right">web design portfolio</div>
        </section>
        <!-- 두 번째 페이지 -->
        <section class="page second-page">
            <div class="twobox box">
                <div class="inner_box">
                    <div class="profile">
                        <img src="../images/021 True Sunset.png" alt="">
                    <ul>
                        <li>윤보림</li>
                        <li>yoon38288@naver.com</li>
                        <li>010-5213-0000</li>
                    </ul></div>
                    <div class="answer"></div>
                </div>
            </div>
        </section>

        <!-- 세 번째 페이지 (스크롤 고정) -->
        <section class="page third-page">
            <div class="thirdbox box">
                <p>세 번째 페이지</p>
            </div>
        </section>

        <!-- 네 번째 ~ 일곱 번째 페이지 (스크롤 가능) -->
        <section class="page content-page">넷</section>
        <section class="page content-page">다섯</section>
        <section class="page content-page">여섯</section>
        <section class="page content-page">일곱</section>
    </div>



    <script>
        //let currentSection = 0;

        const h1 = document.querySelector('.first-page h1');
        const line1 = document.querySelector('.line1');
        const line2 = document.querySelector('.line2');

        const container = document.querySelector('.container');

        let disableScroll = true; //첫번쨰 페이지에서 스크롤 휠 이벤트 제거

        const backgroundbigs1 = document.querySelector('.backgroundbigs1')
        const backgroundbigs2 = document.querySelector('.backgroundbigs2')

        // 스크롤 이벤트 처리
        container.addEventListener('scroll', () => {
            const scrollPosition = container.scrollTop; // 현재 스크롤 위치
            // h1 요소의 수직 위치를 조정
            if (scrollPosition < window.innerHeight) { // 첫 번째 페이지에서만 이동하도록 조건 추가
                h1.style.transform = `translate(${scrollPosition * 0.8}px, -50%)`; // h1의 수직 이동
                backgroundbigs1.style.transform = `translateY(${scrollPosition * 0.2}px)`; // 첫 번째 배경 이미지 속도 조정
                backgroundbigs2.style.transform = `translateY(${scrollPosition * 0.8}px)`; // 두 번째 배경 이미지 속도 조정
            } else {
                h1.style.transform = `translate(-50%, 0)`; // 배경 이미지 원래 위치로
                backgroundbigs1.style.transform = `translateY(0)`; // 첫 번째 배경 이미지 원래 위치로
                backgroundbigs2.style.transform = `translateY(0)`; // 두 번째 배경 이미지 원래 위치로
            }
        });

      // 휠 이벤트로 스크롤 조정
      //container.addEventListener('wheel', (event) => {
                //event.preventDefault(); // 스크롤 비활성화
                //const delta = Math.sign(event.deltaY); // 스크롤 방향
                // 스크롤 이동
            container.scrollBy({
                top: delta * window.innerHeight,
                behavior: 'smooth'
            });
            // 스크롤 시 h1과 배경 이미지의 위치 조정
        container.addEventListener('scroll', () => {
            const scrollPosition = container.scrollTop; // 현재 스크롤 위치

            if (scrollPosition < window.innerHeight) { // 첫 번째 페이지에서만 이동하도록 조건 추가
                // 각 줄의 위치 조정
                line1.style.transform = `translate(-50%, ${scrollPosition * 0.5}px)`; // 첫 번째 줄의 수직 이동
                line2.style.transform = `translate(-50%, ${scrollPosition * 0.7}px)`; // 두 번째 줄의 수직 이동
            } else {
                line1.style.transform = `translate(-50%, 0)`; // 첫 번째 줄 원래 위치로
                line2.style.transform = `translate(-50%, 0)`; // 두 번째 줄 원래 위치로
            }
        });
        // 첫 번째, 두 번째, 세 번째 페이지에서는 스크롤 휠 이벤트 막기
        container.addEventListener('wheel', (event) => {
            if (disableScroll && container.scrollTop < window.innerHeight * 2) {
                event.preventDefault(); // 스크롤 비활성화
            }
        });
        // 스크롤 휠 이벤트를 네 번째 페이지부터 활성화
        container.addEventListener('scroll', () => {
            const scrollPosition = container.scrollTop;
            if (scrollPosition >= window.innerHeight * 2) {
                disableScroll = false; // 네 번째 페이지부터 스크롤 허용
            }
        });
    </script>
</body>
</html>
